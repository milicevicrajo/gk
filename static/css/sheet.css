/* ===== A4 i osnove ===== */
@page { size: A4 portrait; margin: 0; }
.sheet-page{ width:210mm; height:297mm; box-sizing:border-box; }

:root{
  --ink:#000;
  --thin:1px;
  --pad-x:14mm;   /* leva/desna unutrašnja margina */
  --pad-y:12mm;   /* gornja/donja unutrašnja margina */
  --font:"Times New Roman","Georgia",serif;
  --fs:12pt;
}

html, body { background:#f7f7f7; }
@media print { html, body { background:#fff; } }

.sheet-page{
  width:210mm; height:297mm;                 /* TAČNO A4 */
  margin:0 auto 1rem;
  background:#fff; color:var(--ink);
  box-sizing:border-box;
  padding:var(--pad-y) var(--pad-x);
  border:var(--thin) solid var(--ink);
  display:flex;                               /* ključ: kolona koja se rasteže */
  flex-direction:column;
  gap:6mm;
  font-family:var(--font);
  font-size:var(--fs);
}
@media print {
  .sheet-page{ margin:0; border:none; }
}

/* ===== gornje meta sekcije ===== */
.top-meta{
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:6mm;
}
.label{ font-weight:600; }
.sub{ opacity:.0 } /* placeholder da ne lomi raspored */

.sheet-title{
  display:flex; justify-content:space-between; align-items:flex-end;
  border-bottom:var(--thin) solid var(--ink);
  padding-bottom:4mm;
}
.sheet-title .title{ font-weight:700; font-size:18pt; }
.sheet-title .list-no .line{
  display:inline-block; min-width:32mm; border-bottom:var(--thin) solid var(--ink);
}

/* ===== gornja meta tabela ===== */
.meta-wide{ width:100%; border-collapse:collapse; table-layout:fixed; }
.meta-wide th, .meta-wide td{
  border:var(--thin) solid var(--ink);
  padding:3mm 3mm 2mm;
  vertical-align:top;
}
.meta-wide thead th{ font-weight:700; text-align:left; }
.meta-wide .vrsta-rada textarea{
  width:100%; min-height:28mm; border:none; resize:vertical;
  background:transparent;
  font-family:var(--font); font-size:var(--fs);
}
.meta-wide .mini{ font-size:11pt; }

/* ===== GLAVNA MREŽA koja PUNI OSTATAK DO DNA ===== */
/* Omotač mreže zauzima sav preostali prostor A4 stranice,
   a potpisi i extra-row ostaju ispod. */
.grid-flex{
  flex:1 1 auto;      /* rastegni do dna */
  min-height:0;       /* omogućava 100% visine unutra bez prelivanja */
  display:flex;
  /* ako mreža ide "previše nisko", povećaj margin-bottom na npr. 12mm */
  margin-bottom: 8mm; /* prostor za potpise iz navike obrasca */
}

.grid-main{
  width:100%; height:100%;
  border-collapse:collapse; table-layout:fixed;
}
.grid-main thead th,
.grid-main td{
  border:var(--thin) solid var(--ink);
  text-align:center;
}
.grid-main thead th{ font-weight:700; padding:2mm; }

/* Jedan red koji puni visinu omotača (nema 240mm!) */
.grid-main tbody tr{ height:100%; }
.grid-main td.tall{
  height:100%;
  padding:0; vertical-align:top;
}

.sheet-input{
  width:100%; height:100%;
  border:none; resize:none; background:transparent;
  padding:2mm; box-sizing:border-box;
  font:var(--fs) var(--font);
}
.sheet-input.right{ text-align:right; }

/* Deblja vertikala levo od “Mesečno/Ukupno” (opciono, za vernost obrascu) */
.grid-main td:nth-child(2),
.grid-main th:nth-child(2){ border-left-width:2px; }

/* ===== potpisi i donja meta ===== */
.signatures{
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:6mm;
  align-items:end;
}
.signatures .who{ font-size:11pt; margin-bottom:8mm; }
.signatures .line{ height:0; border-bottom:var(--thin) solid var(--ink); }
.signatures .short-line{ width:28mm; margin:auto; height:0; border-bottom:var(--thin) solid var(--ink); }
.signatures .center{ text-align:center; }

.extra-row{
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:6mm;
  font-size:11pt;
}
.extra-row .right{ text-align:right; }

/* ==== Viewport za A4: tačna širina na ekranu i centruj ==== */
.sheet-viewport{
  width: 210mm;         /* stvarna širina A4 */
  margin: 0 auto;       /* centriraj na ekranu */
  padding: 0;
}

/* ==== A4 strana (ostaje tvoja logika) ==== */
@page { size: A4 portrait; margin: 0; }
.sheet-page{
  width: 210mm;
  height: 297mm;        /* TAČNO A4 */
  box-sizing: border-box;
  margin: 0;            /* bez dodatnog sužavanja */
  /* ako želiš unutrašnji “bleed”, koristi padding ovde */
}

/* ==== Neutralizuj Bootstrap SAMO unutar sheet-a ==== */
.sheet-viewport .row,
.sheet-viewport [class*="col-"]{
  width: auto !important;
  max-width: none !important;
  flex: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* container oko content bloka često sužava stranu – razvuci ga */
main .container, main .container-fluid{
  max-width: none;
}

/* Za ekran: zadrži razmeru 1:1 mm (nema scale) */
@media screen {
  html, body { zoom: 1; }         /* drži 100% u browseru */
}
